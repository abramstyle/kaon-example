# Kaon example
an [kaon](https://github.com/abramstyle/kaon) example.

# getting started

install dependencies

```bash
yarn
yarn run dev
```
Then open your browser and go to [localhost:1827](http://localhost:1827). This page is rendered by kaon. If you edit some code, the server will automatically reload, ant the client will hot reload.

# server side data fetching
You should start an data server, or you can fetch from [Github GraphQL API v4 ](https://developer.github.com/).

## local data server
The local data db provided at `db/data.json`.

This data is generated by ''.

You can easily start a fake data server by [json-server](https://github.com/typicode/json-server).

After install "json-server", then start it `json-server  db.json --port 1090`. Navigate your client to [http://localhost:1827/posts](http://localhost:1827/posts).You should see the server rendered page, if you check the source code, it should contains all needed dom.After navigate to comments page, the commends data will be loaded at the client, at "componentDidMount" lifecycle.

## how to prevent load data from client if thie page is rendered at server side?
At this example, You should check if the current page equals '1'.

```js
componentDidMount() {
  const { posts } = this.props;
  if (posts.get('page') === 1) {
    this.loadPosts();
  }
}
```

Because the reducer will increase page after fetched the data of the first page.

# run in production mode.

```bash
# Build in production mode.
yarn run build:prod
# start prod server
yarn run prod
```

Then open browser and goto [localhost:1827](http://localhost:1827).

If you have installed "React Developer Tools", then click it, you shoud see this:

![production mode](https://d.pr/i/uYfmTy+)
